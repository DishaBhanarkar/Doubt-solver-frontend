<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Doubt Solver | Ask Easily</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- ‚úÖ Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins&display=swap');

    body {
      font-family: 'Poppins', sans-serif;
    }

    .hidden {
      display: none;
    }

    .curved-box {
      border-radius: 1rem;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      background: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(10px);
    }

    .background-wave {
      background: url('static/download (3).jpeg') no-repeat center center/cover;
    }

    .grid-background {
      background: url('static/Aesthetic Grid Background.jpeg');
      background-repeat: repeat;
      background-size: contain;
    }

    .scrollable-content {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding-top: 4rem;
      padding-bottom: 4rem;
    }

    .answer-box {
      background-color: rgba(255, 255, 255, 0.9);
      border-radius: 1rem;
      padding: 20px;
      width: 100%;
      max-width: 800px;
      word-wrap: break-word;
      overflow-wrap: break-word;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
  </style>
</head>
<body class="m-0 p-0 text-gray-800">

  <!-- ‚úÖ Page 1: Welcome -->
  <section id="home" class="h-screen w-full background-wave flex flex-col justify-center items-center text-white text-center px-6">
    <div class="max-w-2xl">
      <h1 class="text-4xl md:text-5xl font-bold mb-4">Doubt Solver üå∏</h1>
      <p class="text-sm md:text-base mb-8">Get the answer to your questions without unnecessary steps or four-page thesis.</p>
      <button onclick="showMain()" class="bg-blue-300 text-black px-6 py-2 rounded-full text-lg font-semibold hover:bg-blue-400 transition">Start</button>
    </div>

    <!-- ‚úÖ Description Section -->
    <div class="absolute bottom-10 text-white w-full text-center">
      <p class="text-lg font-medium">This app helps students get instant theory or equation-based answers using AI.</p>
      <p class="text-sm mt-2">Made by <strong>Disha Bhanarkar</strong> | üìß <a href="mailto:disha@example.com" class="underline">dishabhanarkar123@gmail.com</a></p>
    </div>
  </section>

  <!-- ‚úÖ Page 2: Main QA Page -->
  <section id="main" class="hidden w-full grid-background overflow-y-auto">
    <div class="scrollable-content">
      <!-- Mode Toggle -->
      <div class="curved-box p-4 w-[300px] text-center mb-6">
        <label class="mr-4">
          <input type="radio" name="mode" value="theory" checked> Theory
        </label>
        <label>
          <input type="radio" name="mode" value="equation"> Equation
        </label>
      </div>

      <!-- Question Box -->
      <textarea id="question" placeholder="Type your question here..." rows="3"
                class="w-full max-w-xl p-4 rounded-xl shadow-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-300 resize-none mb-4"></textarea>

      <!-- Ask Button -->
      <button onclick="askQuestion()"
              class="bg-blue-400 text-white px-6 py-2 rounded-full font-semibold hover:bg-blue-500 transition mb-4">
        Ask
      </button>

      <!-- Answer Output -->
      <div id="answer"
           class="curved-box max-w-xl w-full p-4 min-h-[100px] text-black text-lg text-left whitespace-pre-wrap hidden">
      </div>
    </div>
  </section>

  <!-- ‚úÖ Script -->
  <script>
    function showMain() {
      document.getElementById('home').classList.add('hidden');
      document.getElementById('main').classList.remove('hidden');
    }

    async function askQuestion() {
      const question = document.getElementById('question').value;
      const type = document.querySelector('input[name="mode"]:checked').value;
      const answerBox = document.getElementById('answer');
      answerBox.innerText = "Thinking...";
      answerBox.classList.remove('hidden');

      try {
        const response = await fetch("http://localhost:5000/ask", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ question, type })
        });

        const data = await response.json();
        answerBox.innerText = data.answer;
      } catch (error) {
        answerBox.innerText = "‚ùå Error: " + error.message;
      }
    }
  </script>
</body>
</html>
